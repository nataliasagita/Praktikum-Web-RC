<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="jquery-3.5.1.min.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css">
    </head>
    <body>
        <div class="container">
            <h2 align="center" style="margin: 30px;">Form Pengisian Data Mahasiswa</h2>
        <div>
            <form method="post" id="form_mahasiswa">
                
                    <div class="tbl"id="bold">Tambah Data Mahasiswa</div>
                        <tr>
                            <td><label>NIM</label></td>
                            <td><input type="number" name="nim"></td>
                        </tr>
                        <tr>
                            <td><label>Nama</label></td>
                            <td><input type="text" name="nama"></td>
                        </tr>
                        <tr>
                            <td><label>Prodi</label></td>
                            <td><select name="prodi">
                                <option value="IF">Informatika</option>
                                <option value="EL">Elektro</option>
                                <option value="SI">Sipil</option>
                                <option value="TG">Geofisika</option>
                                <option value="MA">Matematika</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><label>Angkatan</label></td>
                            <td><input type="number" name="angkatan"></td>
                        </tr>
            </form>
            <p></p>
                 <button class="btn" id="btn_tambah">Tambahkan</button>
            <p></p>
        </div>
        <div>
            <form method="post" id="form_ubah_data">
               
                    <div class="tbl"">Perubahan Data</div>
                        <tr>
                            <td><label>NIM</label></td>
                            <td><input type="number" name="nim"></td>
                        </tr>
                        <tr>
                            <td><label>Nama</label></td>
                            <td><input type="text" name="nama"></td>
                        </tr>
                        <tr>
                            <td><label>Prodi</label></td>
                            <td><select name="prodi">
                                <option value="IF">Informatika</option>
                                <option value="EL">Elektro</option>
                                <option value="SI">Sipil</option>
                                <option value="TG">Geofisika</option>
                                <option value="MA">Matematika</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><label>Angkatan</label></td>
                            <td><input type="number" name="angkatan"></td>
                        </tr>
                    </table>
                
            </form>
            <p></p>
            <button class="btn" id="btn_ubah">Ubah</button>
            <p></p>
        </div>

        <div>
            <legend class="tbl" id="bold">Hapus Data Mahasiswa</legend>
            <label>NIM</label>
            <input type="number" name="nim" id="hapus_nim">
            <p></p>
            <button class="btn" id="btn_hapus">Hapus</button>
            <p></p>
        </div>
        <div align="center" style="margin: 30px; class="tbl" >Tabel Data Mahasiswa</div>
        <div id="tampil_data"></div>
        <script>
            $(document).ready(function(){
                $('#tampil_data').load("tampil.php");
                $('#btn_tambah').click(function(){
                    var data = $('#form_mahasiswa').serialize();
                    $.ajax({
                        type    : 'POST',
                        url     : "tambah.php",
                        data    : data,
                        cache   : false,
                        success : function(data){
                            $('#tampil_data').load("tampil.php");
                        }
                    });
                });
            });

            $(document).ready(function(){
                $('#tampil_data').load("tampil.php");
                $('#btn_ubah').click(function(){
                    var data = $('#form_ubah_data').serialize();
                    $.ajax({
                        type    : 'POST',
                        url     : "ubah.php",
                        data    : data,
                        cache   : false,
                        success : function(data){
                            $('#tampil_data').load("tampil.php");
                        }
                    });
                });
            });

            $(document).ready(function(){
                $('#tampil_data').load("tampil.php");
                $('#btn_hapus').click(function(){
                    var nim = $('#hapus_nim').val();
                    $.ajax({
                        type    : 'POST',
                        url     : "hapus.php",
                        data    : {nim:nim},
                        success : function(data){
                            $('#tampil_data').load("tampil.php")
                        }
                    })
                })
            })
        </script>
    </body>
</html>